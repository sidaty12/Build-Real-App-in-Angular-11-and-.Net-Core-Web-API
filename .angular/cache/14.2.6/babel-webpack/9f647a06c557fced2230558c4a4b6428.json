{"ast":null,"code":"import { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function withLatestFrom(...args) {\n  return source => {\n    let project;\n\n    if (typeof args[args.length - 1] === 'function') {\n      project = args.pop();\n    }\n\n    const observables = args;\n    return source.lift(new WithLatestFromOperator(observables, project));\n  };\n}\n\nclass WithLatestFromOperator {\n  constructor(observables, project) {\n    this.observables = observables;\n    this.project = project;\n  }\n\n  call(subscriber, source) {\n    return source.subscribe(new WithLatestFromSubscriber(subscriber, this.observables, this.project));\n  }\n\n}\n\nclass WithLatestFromSubscriber extends OuterSubscriber {\n  constructor(destination, observables, project) {\n    super(destination);\n    this.observables = observables;\n    this.project = project;\n    this.toRespond = [];\n    const len = observables.length;\n    this.values = new Array(len);\n\n    for (let i = 0; i < len; i++) {\n      this.toRespond.push(i);\n    }\n\n    for (let i = 0; i < len; i++) {\n      let observable = observables[i];\n      this.add(subscribeToResult(this, observable, observable, i));\n    }\n  }\n\n  notifyNext(outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n    this.values[outerIndex] = innerValue;\n    const toRespond = this.toRespond;\n\n    if (toRespond.length > 0) {\n      const found = toRespond.indexOf(outerIndex);\n\n      if (found !== -1) {\n        toRespond.splice(found, 1);\n      }\n    }\n  }\n\n  notifyComplete() {}\n\n  _next(value) {\n    if (this.toRespond.length === 0) {\n      const args = [value, ...this.values];\n\n      if (this.project) {\n        this._tryProject(args);\n      } else {\n        this.destination.next(args);\n      }\n    }\n  }\n\n  _tryProject(args) {\n    let result;\n\n    try {\n      result = this.project.apply(this, args);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n\n    this.destination.next(result);\n  }\n\n}","map":{"version":3,"names":["OuterSubscriber","subscribeToResult","withLatestFrom","args","source","project","length","pop","observables","lift","WithLatestFromOperator","constructor","call","subscriber","subscribe","WithLatestFromSubscriber","destination","toRespond","len","values","Array","i","push","observable","add","notifyNext","outerValue","innerValue","outerIndex","innerIndex","innerSub","found","indexOf","splice","notifyComplete","_next","value","_tryProject","next","result","apply","err","error"],"sources":["C:/DevSid/Projet/App-Angular/my-first-app/node_modules/rxjs/_esm2015/internal/operators/withLatestFrom.js"],"sourcesContent":["import { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function withLatestFrom(...args) {\n    return (source) => {\n        let project;\n        if (typeof args[args.length - 1] === 'function') {\n            project = args.pop();\n        }\n        const observables = args;\n        return source.lift(new WithLatestFromOperator(observables, project));\n    };\n}\nclass WithLatestFromOperator {\n    constructor(observables, project) {\n        this.observables = observables;\n        this.project = project;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new WithLatestFromSubscriber(subscriber, this.observables, this.project));\n    }\n}\nclass WithLatestFromSubscriber extends OuterSubscriber {\n    constructor(destination, observables, project) {\n        super(destination);\n        this.observables = observables;\n        this.project = project;\n        this.toRespond = [];\n        const len = observables.length;\n        this.values = new Array(len);\n        for (let i = 0; i < len; i++) {\n            this.toRespond.push(i);\n        }\n        for (let i = 0; i < len; i++) {\n            let observable = observables[i];\n            this.add(subscribeToResult(this, observable, observable, i));\n        }\n    }\n    notifyNext(outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.values[outerIndex] = innerValue;\n        const toRespond = this.toRespond;\n        if (toRespond.length > 0) {\n            const found = toRespond.indexOf(outerIndex);\n            if (found !== -1) {\n                toRespond.splice(found, 1);\n            }\n        }\n    }\n    notifyComplete() {\n    }\n    _next(value) {\n        if (this.toRespond.length === 0) {\n            const args = [value, ...this.values];\n            if (this.project) {\n                this._tryProject(args);\n            }\n            else {\n                this.destination.next(args);\n            }\n        }\n    }\n    _tryProject(args) {\n        let result;\n        try {\n            result = this.project.apply(this, args);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}